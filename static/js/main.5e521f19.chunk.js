(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,o){"use strict";o.r(t);var i=o(0),n=o.n(i),a=o(18),r=o.n(a),s=(o(60),o(26)),c=o(49),v=o(53),h=o(50),u=o(54),l=(o(62),o(4)),d=o.n(l),m=function(e){function t(){return Object(s.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.rubik;return console.log(e),n.a.createElement("div",{className:"App"},n.a.createElement(x.Consumer,null,function(e){return e&&n.a.createElement("div",{className:"Moves"},n.a.createElement(d.a,{onClick:e.getDoMove("F")},"Front"),n.a.createElement(d.a,{onClick:e.getDoMove("F'")},"Front R"),n.a.createElement(d.a,{onClick:e.getDoMove("B")},"Back"),n.a.createElement(d.a,{onClick:e.getDoMove("B'")},"Back R"),n.a.createElement(d.a,{onClick:e.getDoMove("L")},"Left"),n.a.createElement(d.a,{onClick:e.getDoMove("L'")},"Left R"),n.a.createElement(d.a,{onClick:e.getDoMove("R")},"Right"),n.a.createElement(d.a,{onClick:e.getDoMove("R'")},"Right R"),n.a.createElement(d.a,{onClick:e.getDoMove("U")},"Up"),n.a.createElement(d.a,{onClick:e.getDoMove("U'")},"Up R"),n.a.createElement(d.a,{onClick:e.getDoMove("D")},"Down"),n.a.createElement(d.a,{onClick:e.getDoMove("D'")},"Down R"))}))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=o(52),M=o(2);var f=o(146)(M),w=[39752,12124160,17837,16734208,16777215,16766208].map(function(e){return new M.MeshLambertMaterial({color:e,ambient:e})}),g=new M.MeshFaceMaterial(w);o.d(t,"RubikContext",function(){return x});var b=document.getElementById("canvas"),k=new function e(t){var o,i=this;Object(s.a)(this,e),this.makeCube=function(e,t,o){var i=new M.CubeGeometry(3,3,3),n=new M.Mesh(i,g);return n.castShadow=!0,n.position.set(e,t,o),n.rubikPosition=n.position.clone(),n},this.getDoMove=function(e){return function(){return i.pushMove(e)}},this.pushMove=function(e){i.moveQueue.push(e),i.doNextMove()},this.getMoveInfo=function(e){var t,o;switch(e){case"F":case"F'":t="x",o=new M.Vector3(-3.5,0,0);break;case"B":case"B'":t="x",o=new M.Vector3(3.5,0,0);break;case"D":case"D'":t="y",o=new M.Vector3(0,-3.5,0);break;case"U":case"U'":t="y",o=new M.Vector3(0,3.5,0);break;case"L":case"L'":t="z",o=new M.Vector3(0,0,-3.5);break;case"R":case"R'":t="z",o=new M.Vector3(0,0,3.5);break;default:return[-1,new M.Vector3(0,0,0)]}return{axis:t,center:o,rotation:e.endsWith("'")?-1:1}},this.getSide=function(e){var t=i.getMoveInfo(e),o=t.axis,n=t.center;return i.cubes.filter(function(e){return Math.abs(e.rubikPosition[o]-n[o])<1e-7})},this.doNextMove=function(){var e=i.moveQueue.pop();if(e&&!i.isMoving){i.isMoving=!0,i.pivot.rotation.set(0,0,0),i.pivot.updateMatrixWorld(),i.scene.add(i.pivot);var t=i.getMoveInfo(e),o=t.axis,n=t.rotation;i.moveAxis=o,i.moveRotation=n,i.rotationGroup=i.getSide(e),i.rotationGroup.forEach(function(e){var t,o,n;t=e,o=i.scene,n=i.pivot,t.applyMatrix((new M.Matrix4).getInverse(n.matrixWorld)),o.remove(t),n.add(t)}),i.currentMove=e}},this.doMove=function(){i.pivot.rotation[i.moveAxis]>=Math.PI/2?(i.pivot.rotation[i.moveAxis]=Math.PI/2,i.finishMove()):i.pivot.rotation[i.moveAxis]<=-Math.PI/2?(i.pivot.rotation[i.moveAxis]=-Math.PI/2,i.finishMove()):i.pivot.rotation[i.moveAxis]+=.1*i.moveRotation},this.finishMove=function(){i.isMoving=!1,i.moveAxis=void 0,i.moveRotation=void 0,i.pivot.updateMatrixWorld(),i.scene.remove(i.pivot),i.rotationGroup.forEach(function(e){var t,o,n;e.updateMatrixWorld(),e.rubikPosition=e.position.clone(),e.rubikPosition.applyMatrix4(i.pivot.matrixWorld),t=e,o=i.pivot,n=i.scene,t.applyMatrix(o.matrixWorld),o.remove(t),n.add(t)}),i.doNextMove()},this.makeCubes=function(){for(var e=[],t=-1;t<=1;++t)for(var o=-1;o<=1;++o)for(var n=-1;n<=1;++n)e.push(i.makeCube(3.5*t,3.5*o,3.5*n));return e},this.setSize=function(e,t){i.camera.aspect=e/t,i.camera.updateProjectionMatrix(),i.renderer.setSize(e,t)},this.render=function(){i.isMoving&&i.doMove(),i.renderer.render(i.scene,i.camera),requestAnimationFrame(i.render)},this.width=t.clientWidth,this.height=t.clientHeight,this.scene=new M.Scene,this.camera=new M.PerspectiveCamera(45,this.width/this.height,.1,1e3),this.renderer=new M.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(0,1),this.renderer.setSize(this.width,this.height),this.renderer.shadowMapEnabled=!0,t.append(this.renderer.domElement),this.camera.position.set(-20,20,30),this.camera.lookAt(this.scene.position),this.scene.add(new M.AmbientLight(16777215)),this.orbitControl=new f(this.camera,this.renderer.domElement),this.cubes=this.makeCubes(),(o=this.scene).add.apply(o,Object(p.a)(this.cubes)),this.moveQueue=[],this.pivot=new M.Object3D,this.isMoving=!1,this.moveAxis=void 0,this.moveRotation=void 0,this.rotationGroup=[],this.render()}(b);window.addEventListener("resize",function(e){k.setSize(b.clientWidth,b.clientHeight)});var x=n.a.createContext();r.a.render(n.a.createElement(x.Provider,{value:k},n.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,o){e.exports=o(147)},60:function(e,t,o){},62:function(e,t,o){}},[[55,2,1]]]);
//# sourceMappingURL=main.5e521f19.chunk.js.map