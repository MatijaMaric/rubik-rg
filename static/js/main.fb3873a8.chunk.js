(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,o){"use strict";o.r(t);var n=o(0),i=o.n(n),a=o(18),r=o.n(a),s=(o(60),o(26)),c=o(49),h=o(53),u=o(50),v=o(54),l=(o(62),o(3)),d=o.n(l),m=function(e){function t(){return Object(s.a)(this,t),Object(h.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.rubik;return console.log(e),i.a.createElement("div",{className:"App"},i.a.createElement(E.Consumer,null,function(e){return e&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"Moves"},i.a.createElement(d.a,{onClick:e.getDoMove("F")},"Front"),i.a.createElement(d.a,{onClick:e.getDoMove("F'")},"Front R"),i.a.createElement(d.a,{onClick:e.getDoMove("B")},"Back"),i.a.createElement(d.a,{onClick:e.getDoMove("B'")},"Back R"),i.a.createElement(d.a,{onClick:e.getDoMove("L")},"Left"),i.a.createElement(d.a,{onClick:e.getDoMove("L'")},"Left R"),i.a.createElement(d.a,{onClick:e.getDoMove("R")},"Right"),i.a.createElement(d.a,{onClick:e.getDoMove("R'")},"Right R"),i.a.createElement(d.a,{onClick:e.getDoMove("U")},"Up"),i.a.createElement(d.a,{onClick:e.getDoMove("U'")},"Up R"),i.a.createElement(d.a,{onClick:e.getDoMove("D")},"Down"),i.a.createElement(d.a,{onClick:e.getDoMove("D'")},"Down R"),i.a.createElement(d.a,{onClick:e.shuffle()},"Shuffle")))}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=o(52),f=o(2);var M=o(146)(f),g=[39752,12124160,17837,16734208,16777215,16766208].map(function(e){return new f.MeshLambertMaterial({color:e,ambient:e})}),w=new f.MeshFaceMaterial(g),b=["F","F'","B","B'","L","L'","R","R'","U","U'","D","D'"];o.d(t,"RubikContext",function(){return E});var k=document.getElementById("canvas"),x=new function e(t){var o,n=this;Object(s.a)(this,e),this.makeCube=function(e,t,o){var n=new f.CubeGeometry(3,3,3),i=new f.Mesh(n,w);return i.castShadow=!0,i.position.set(e,t,o),i.rubikPosition=i.position.clone(),i},this.getDoMove=function(e){return function(){return n.pushMove(e)}},this.pushMove=function(e){n.moveQueue.push(e),n.doNextMove()},this.getMoveInfo=function(e){var t,o;switch(e){case"F":case"F'":t="x",o=new f.Vector3(-3.5,0,0);break;case"B":case"B'":t="x",o=new f.Vector3(3.5,0,0);break;case"D":case"D'":t="y",o=new f.Vector3(0,-3.5,0);break;case"U":case"U'":t="y",o=new f.Vector3(0,3.5,0);break;case"L":case"L'":t="z",o=new f.Vector3(0,0,-3.5);break;case"R":case"R'":t="z",o=new f.Vector3(0,0,3.5);break;default:return[-1,new f.Vector3(0,0,0)]}return{axis:t,center:o,rotation:e.endsWith("'")?-1:1}},this.getSide=function(e){var t=n.getMoveInfo(e),o=t.axis,i=t.center;return n.cubes.filter(function(e){return Math.abs(e.rubikPosition[o]-i[o])<1e-7})},this.doNextMove=function(){var e=n.moveQueue.pop();if(e&&!n.isMoving){n.isMoving=!0,n.pivot.rotation.set(0,0,0),n.pivot.updateMatrixWorld(),n.scene.add(n.pivot);var t=n.getMoveInfo(e),o=t.axis,i=t.rotation;n.moveAxis=o,n.moveRotation=i,n.rotationGroup=n.getSide(e),n.rotationGroup.forEach(function(e){var t,o,i;t=e,o=n.scene,i=n.pivot,t.applyMatrix((new f.Matrix4).getInverse(i.matrixWorld)),o.remove(t),i.add(t)}),n.currentMove=e}},this.doMove=function(){n.pivot.rotation[n.moveAxis]>=Math.PI/2?(n.pivot.rotation[n.moveAxis]=Math.PI/2,n.finishMove()):n.pivot.rotation[n.moveAxis]<=-Math.PI/2?(n.pivot.rotation[n.moveAxis]=-Math.PI/2,n.finishMove()):n.pivot.rotation[n.moveAxis]+=.1*n.moveRotation},this.finishMove=function(){n.isMoving=!1,n.moveAxis=void 0,n.moveRotation=void 0,n.pivot.updateMatrixWorld(),n.scene.remove(n.pivot),n.rotationGroup.forEach(function(e){var t,o,i;e.updateMatrixWorld(),e.rubikPosition=e.position.clone(),e.rubikPosition.applyMatrix4(n.pivot.matrixWorld),t=e,o=n.pivot,i=n.scene,t.applyMatrix(o.matrixWorld),o.remove(t),i.add(t)}),n.doNextMove()},this.makeCubes=function(){for(var e=[],t=-1;t<=1;++t)for(var o=-1;o<=1;++o)for(var i=-1;i<=1;++i)e.push(n.makeCube(3.5*t,3.5*o,3.5*i));return e},this.setSize=function(e,t){n.camera.aspect=e/t,n.camera.updateProjectionMatrix(),n.renderer.setSize(e,t)},this.getRandomInt=function(e){return Math.floor(Math.random()*Math.floor(e))},this.shuffle=function(){return function(){return n.doShuffle()}},this.doShuffle=function(){for(var e=0;e<20;++e){var t=b[n.getRandomInt(b.length-1)];n.moveQueue.push(t)}n.doNextMove()},this.render=function(){n.isMoving&&n.doMove(),n.renderer.render(n.scene,n.camera),requestAnimationFrame(n.render)},this.width=t.clientWidth,this.height=t.clientHeight,this.scene=new f.Scene,this.camera=new f.PerspectiveCamera(45,this.width/this.height,.1,1e3),this.renderer=new f.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(0,1),this.renderer.setSize(this.width,this.height),this.renderer.shadowMapEnabled=!0,t.append(this.renderer.domElement),this.camera.position.set(-20,20,30),this.camera.lookAt(this.scene.position),this.scene.add(new f.AmbientLight(16777215)),this.orbitControl=new M(this.camera,this.renderer.domElement),this.cubes=this.makeCubes(),(o=this.scene).add.apply(o,Object(p.a)(this.cubes)),this.moveQueue=[],this.pivot=new f.Object3D,this.isMoving=!1,this.moveAxis=void 0,this.moveRotation=void 0,this.rotationGroup=[],this.render()}(k);window.addEventListener("resize",function(e){x.setSize(k.clientWidth,k.clientHeight)});var E=i.a.createContext();r.a.render(i.a.createElement(E.Provider,{value:x},i.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,o){e.exports=o(147)},60:function(e,t,o){},62:function(e,t,o){}},[[55,2,1]]]);
//# sourceMappingURL=main.fb3873a8.chunk.js.map